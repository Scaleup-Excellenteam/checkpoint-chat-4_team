# ==================================================
# CHAT APPLICATION CONFIGURATION
# ==================================================
# Copy this file to .env and fill in your values

# ==================================================
# SERVER CONFIGURATION
# ==================================================
PORT=3000
HOST=0.0.0.0
# CORS origin - use * for development, specific domain for production
CORS_ORIGIN=*

# ==================================================
# DATABASE CONFIGURATION
# ==================================================
# MongoDB connection string
# For local MongoDB: mongodb://localhost:27017/chatapp
# For MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/chatapp
MONGO_URI=mongodb://localhost:27017/chatapp

# ==================================================
# AUTHENTICATION & SECURITY
# ==================================================
# JWT Secret - CHANGE THIS IN PRODUCTION!
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=24h
BCRYPT_SALT_ROUNDS=10

# ==================================================
# SECURITY SETTINGS
# ==================================================
# URL Risk Score Threshold (0-100)
# Messages with URLs scoring above this will be blocked
# Default: 70 (recommended range: 60-80)
URL_RISK_THRESHOLD=70

# URL checking timeout in milliseconds
URL_CHECK_TIMEOUT=1500

# Maximum number of URLs to check per message
MAX_URLS_PER_MESSAGE=5

# Blocked URL Database Settings
BLOCKED_URL_CACHE_ENABLED=true
BLOCKED_URL_MAX_ENTRIES=10000
BLOCKED_URL_CLEANUP_INTERVAL=86400000
BLOCKED_URL_AUTO_CLEANUP=true

# Data Leak Prevention (DLP) Settings
DLP_ENABLED=true
DLP_MAX_RETRIES=5
DLP_BASE_DELAY=1000

# ==================================================
# EXTERNAL API KEYS
# ==================================================
# Google Gemini API Key (required for DLP checking)
# Get from: https://ai.google.dev/
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-1.5-flash

# VirusTotal API Key (optional, for enhanced URL checking)
# Get from: https://www.virustotal.com/gui/my-apikey
VT_API_KEY=your-virustotal-api-key-here

# URLHaus API (free, no key required)
URLHAUS_API=https://urlhaus.abuse.ch/api/v1/url/
URLHAUS_TIMEOUT=2500

# ==================================================
# CHAT FEATURES
# ==================================================
MAX_MESSAGE_LENGTH=1000

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MESSAGES=30
RATE_LIMIT_WINDOW=60000

# ==================================================
# LOGGING
# ==================================================
LOG_LEVEL=info
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/app.log

# ==================================================
# ENVIRONMENT
# ==================================================
NODE_ENV=development

# ==================================================
# FEATURE FLAGS
# ==================================================
FEATURE_USER_REGISTRATION=true
FEATURE_ROOM_CREATION=true
FEATURE_FILE_UPLOAD=false
FEATURE_EMAIL_NOTIFICATIONS=false
